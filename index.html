<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript e Bootstrap</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script>
        function verificacao() {
            if(document.getElementById('nome').value == ""){
                alert("O campo nome está vazio.");
            }
            if(document.getElementById('endereco').value == ""){
                alert("O campo endereço está vazio.");
            }
            if(document.getElementById('bairro').value == ""){
                alert("O campo bairro está vazio.");
            }

            // BÔNUS: verificação cpf no modelo da verificação de rg e cpf abaixo.
            const caracteres = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "-"];
            var i;
            var tamanhocep = document.getElementById('cep').value;
            var verificador;
            if (tamanhocep.length != 9 ) {
                alert("O campo cep foi preenchido incorretamente.");
            } else {
                for (i = 0; i <= 8; i++) {
                    verificador = tamanhocep.toString().charAt(i);
                    if (!caracteres.includes(verificador)) {
                        alert("O campo cep foi preenchido incorretamente.");
                        break;
                    }
                }
            }
            if (tamanhocep.toString().charAt(5) != "-") {
                alert("O campo cep foi preenchido incorretamente.");
            }


            if(document.getElementById('cidade').value == ""){
                alert("O campo cidade está vazio.");
            }
            if(document.getElementById('estado').value == "n"){
                alert("O campo estado está vazio.");
            }
        }
        function verificacaorgcpf() {
            //caracteres que podem estar no cpf e rg (exceto x)
            const caracteres = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ".", "-"];
            //verificação cpf
            var i;
            var tamanhocpf = document.getElementById('cpf').value;
            var verificador;
            if (tamanhocpf.length != 14 ) {
                alert("O campo cpf foi preenchido incorretamente.");
                //primeiro verificamos se o tamanho está correto
            } else {
                for (i = 0; i <= 13; i++) {
                    verificador = tamanhocpf.toString().charAt(i);
                    //verificando os caracteres um por um
                    if (!caracteres.includes(verificador)) {
                        //verifica se o verificador é um dos caracteres na array. Como coloquei o ponto de exclamação (!) que significa negação, os comandos do if serão realizados caso verificador NÃO esteja em caracteres.
                        alert("O campo cpf foi preenchido incorretamente.");
                        break;
                    }
                }
                if (tamanhocpf.toString().charAt(3) != "." || tamanhocpf.toString().charAt(7) != "."  && tamanhocpf.toString().charAt(11) != "-" ) {
                    //verificando os caracteres em 3, 7 e 11 são pontos ou traços
                    alert("O campo cpf foi preenchido incorretamente.");
                }
            }
            //e então, repetimos o processo para o rg, com algumas mudanças.

            //verificação rg
            var tamanhorg = document.getElementById('rg').value;
            if (tamanhorg.length != 12) {
                alert("O campo rg foi preenchido incorretamente.");
            } else {
                for (i = 0; i <= 10; i++) {
                    //verifica todos EXCETO o dígito de controle
                    verificador = tamanhorg.toString().charAt(i);
                    if (!caracteres.includes(verificador)) {
                        alert("O campo rg foi preenchido incorretamente.");
                        break;
                    }
                }
            }
            if (tamanhorg.toString().charAt(2) != "." || tamanhorg.toString().charAt(6) != "." || tamanhorg.toString().charAt(10) != "-") {
                alert("O campo rg foi preenchido incorretamente.");
            }
            //verificando o dígito de controle
            verificador = tamanhorg.toString().charAt(11)
            if (!caracteres.includes(verificador)) {
                if (verificador != "x" && verificador != "X") {
                    alert("O campo rg foi preenchido incorretamente.");
                }
            }
        }
    </script>
</head>
<body>
    <div class="container flex-fill">
        <div class="row">
          <div class="col">
            <nav class="navbar navbar-expand-lg bg-primary">
                <div class="container-fluid">
                    <a class="navbar-brand link-light link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="#">Formulário Javascript e Bootstrap</a>
            </nav>
          </div>
        </div><br>
        <div class="row">
            <div>
                <form>
                    <label for="nome" class="form-label">Nome:</label>
                    <input type="text" name="nome" class="form-control" id="nome" placeholder="Informe seu nome"><br>
                    <!--títulos para caixas de texto e as caixas de texto propriamente ditas.-->
                    <label for="endereco" class="form-label">Endereço:</label>
                    <input type="text" name="endereco" class="form-control" id="endereco" placeholder="Informe seu endereço"><br>
                    <label for="bairro" class="form-label">Bairro:</label>
                    <input type="text" name="bairro" class="form-control" id="bairro" placeholder="Informe seu bairro"><br>
                    <label for="cep" class="form-label">Cep:</label>
                    <input type="text" name="cep" class="form-control" id="cep" placeholder="00000-000"><br>
                    <label for="cidade" class="form-label">Cidade:</label>
                    <input type="text" name="cidade" class="form-control" id="cidade" placeholder="Informe sua cidade"><br>
                    <label for="estado" class="form-label">Estado:</label>
                    <select class="form-select" name="estado" id="estado">
                        <option selected disabled hidden value="n">Selecione seu Estado</option>
                        <!--opção padrão antes do usuário digitar qualquer coisa. Quando o usuário clicar no select, esta opção não estará no dropdown.-->
                        <option value="ac">AC</option>
                        <option value="al">AL</option>
                        <option value="ap">AP</option>
                        <option value="am">AM</option>
                        <option value="ba">BA</option>
                        <option value="ce">CE</option>
                        <option value="df">DF</option>
                        <option value="es">ES</option>
                        <option value="go">GO</option>
                        <option value="ma">MA</option>
                        <option value="mt">MT</option>
                        <option value="ms">MS</option>
                        <option value="mg">MG</option>
                        <option value="pa">PA</option>
                        <option value="pb">PB</option>
                        <option value="pr">PR</option>
                        <option value="pe">PE</option>
                        <option value="pi">PI</option>
                        <option value="rj">RJ</option>
                        <option value="rn">RN</option>
                        <option value="rs">RS</option>
                        <option value="ro">RO</option>
                        <option value="rr">RR</option>
                        <option value="sc">SC</option>
                        <option value="sp">SP</option>
                        <option value="se">SE</option>
                        <option value="to">TO</option>
                    </select><br>
                    <label for="cpf" class="form-label">CPF:</label>
                    <input type="text" name="cpf" class="form-control" id="cpf" placeholder="000.000.000-00"><br>
                    <label for="rg" class="form-label">RG:</label>
                    <input type="text" name="rg" class="form-control" id="rg" placeholder="00.000.000-X"><br>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <button type="button" name="cadastrar" id="cadastrar" onclick="verificacao(); verificacaorgcpf()" class="btn btn-primary">Cadastrar</button>
            </div>
        </div>
    </div>
</body>
</html>